{
  "type": "object",
  "properties": {
    "host": {
      "type": "string",
      "title": "DB2 Host",
      "description": "Database host address for connection"
    },
    "port": {
      "type": "integer",
      "title": "DB2 Port",
      "description": "Database server listening port",
      "default": 50000
    },
    "database": {
      "type": "string",
      "title": "Database Name",
      "description": "The name of the database to use for connection"
    },
    "username": {
      "type": "string",
      "title": "Username",
      "description": "Username used to authenticate with the database"
    },
    "password": {
      "type": "string",
      "title": "Password",
      "description": "Password for database authentication",
      "format": "password",
      "minLength": 1
    },
    "jdbc_url_params": {
      "type": "object",
      "title": "JDBC URL Parameters",
      "description": "Additional JDBC URL parameters for connection tuning (optional)",
      "additionalProperties": true
    },
    "ssl": {
      "type": "object",
      "properties": {
        "mode": {
          "type": "string",
          "title": "SSL Mode",
          "description": "Database connection SSL configuration",
          "default": "disable",
          "enum": [
            "disable",
            "require"
          ]
        }
      },
      "required": [
        "mode"
      ]
    },
    "max_threads": {
      "type": "integer",
      "title": "Max Threads",
      "description": "Max parallel threads for chunk snapshotting",
      "default": 3
    },
    "retry_count": {
      "type": "integer",
      "title": "Retry Count",
      "description": "Number of sync retry attempts using exponential backoff",
      "default": 3
    },
    "ssh_config": {
        "title": "SSH Config",
        "description": "OLake uses SSH to connect to the database.",
        "oneOf": [
            {
                "type": "object",
                "title": "No Tunnel",
                "properties": {
                    "type": {
                        "const": "no_tunnel"
                    }
                },
                "required": ["type"]
            },
            {
                "type": "object",
                "title": "SSH Key Authentication",
                "properties": {
                    "type": {
                        "const": "ssh_key_authentication"
                    },
                    "host": {
                        "type": "string",
                        "title": "SSH Host",
                        "description": "SSH host address"
                    },
                    "port": {
                        "type": "integer",
                        "title": "SSH Port",
                        "description": "Port number to connect to the SSH server"
                    },
                    "username": {
                        "type": "string",
                        "title": "SSH Username",
                        "description": "Username to authenticate with the SSH server"
                    },
                    "private_key": {
                        "type": "string",
                        "title": "SSH Private Key",
                        "description": "SSH private key to authenticate with the SSH server"
                    },
                    "passphrase": {
                        "type": "string",
                        "title": "SSH Passphrase",
                        "description": "Passphrase to decrypt the encrypted SSH private key",
                        "format": "password"
                    }
                },
                "required": [
                    "type",
                    "host",
                    "port",
                    "username",
                    "private_key"
                ]
            },
            {
                "type": "object",
                "title": "SSH Password Authentication",
                "properties": {
                    "type": {
                        "const": "ssh_password_authentication"
                    },
                    "host": {
                        "type": "string",
                        "title": "SSH Host",
                        "description": "SSH host address"
                    },
                    "port": {
                        "type": "integer",
                        "title": "SSH Port",
                        "description": "Port number to connect to the SSH server"
                    },
                    "username": {
                        "type": "string",
                        "title": "SSH Username",
                        "description": "Username to authenticate with the SSH server"
                    },
                    "password": {
                        "type": "string",
                        "title": "SSH Password",
                        "description": "Password to authenticate with the SSH server",
                        "format": "password",
                        "minLength": 1
                    }
                },
                "required": [
                    "type",
                    "host",
                    "port",
                    "username",
                    "password"
                ]
            }
        ]
    }
  },
  "required": [
    "host",
    "port",
    "database",
    "username",
    "password"
  ]
}
