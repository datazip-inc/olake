{
  "type": "object",
  "properties": {
    "connection_type": {
      "type": "string",
      "title": "Connection Type",
      "description": "Method used to establish a connection between the Oracle database server",
      "enum": ["sid", "service_name"],
      "default": "service_name"
    },
    "host": {
      "type": "string",
      "title": "Host",
      "description": "Database host addresses for connection"
    },
    "port": {
      "type": "integer",
      "title": "Port",
      "description": "Database server listening port",
      "default": 1521
    },
    "username": {
      "type": "string",
      "title": "Username",
      "description": "Username used to authenticate with the database"
    },
    "password": {
      "type": "string",
      "title": "Password",
      "description": "Password for database authentication",
      "format": "password"
    },
    "max_threads": {
      "type": "integer",
      "title": "Max Threads",
      "description": "Maximum concurrent threads for data sync",
      "default": 3
    },
    "backoff_retry_count": {
      "type": "integer",
      "title": "Retry Count",
      "description": "Number of sync retries (exponential backoff on failure)",
      "default": 3
    },
    "ssl": {
      "type": "object",
      "properties": {
        "mode": {
          "type": "string",
          "title": "SSL Mode",
          "description": "Database connection SSL configuration (e.g., SSL mode)",
          "default": "disable",
          "enum": ["require", "disable", "verify-ca", "verify-full"]
        }
      },
      "required": ["mode"]
    },
    "jdbc_url_params": {
      "type": "object",
      "title": "JDBC URL Parameters",
      "description": "Additional JDBC URL parameters for connection tuning",
      "additionalProperties": true
    },
    "ssh_enabled": {
      "type": "boolean",
      "title": "Enable SSH Tunnel",
      "description": "Enable SSH tunneling to connect to Oracle through a remote host",
      "default": false
    },
    "ssh_host": {
      "type": "string",
      "title": "SSH Host",
      "description": "Remote host to tunnel through (e.g., bastion or jump server)"
    },
    "ssh_port": {
      "type": "integer",
      "title": "SSH Port",
      "description": "Port for SSH connection (default: 22)",
      "default": 22
    },
    "ssh_user": {
      "type": "string",
      "title": "SSH Username",
      "description": "Username for SSH authentication"
    },
    "ssh_private_key": {
      "type": "string",
      "title": "SSH Private Key",
      "description": "PEM-encoded private key used for SSH authentication"
    }
  },
  "required": ["connection_type", "host", "port", "username"],
  "dependencies": {
    "connection_type": {
      "oneOf": [
        {
          "properties": {
            "connection_type": {
              "const": "sid"
            },
            "sid": {
              "type": "string",
              "title": "SID",
              "description": "Unique name that identifies an instance of an Oracle database"
            }
          },
          "required": ["sid"]
        },
        {
          "properties": {
            "connection_type": {
              "const": "service_name"
            },
            "service_name": {
              "type": "string",
              "title": "Service Name",
              "description": "A logical database service to connect to"
            }
          },
          "required": ["service_name"]
        }
      ]
    },
    "ssh_enabled": {
      "oneOf": [
        {
          "properties": {
            "ssh_enabled": { "const": false }
          }
        },
        {
          "properties": {
            "ssh_enabled": { "const": true },
            "ssh_host": { "type": "string" },
            "ssh_port": { "type": "integer" },
            "ssh_user": { "type": "string" },
            "ssh_private_key": { "type": "string" }
          },
          "required": ["ssh_host", "ssh_port", "ssh_user", "ssh_private_key"]
        }
      ]
    }
  }
}

