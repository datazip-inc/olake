{
  "type": "object",
  "properties": {
    "type": {
      "type": "string",
      "const": "PARQUET"
    },
    "writer": {
      "type": "object",
      "properties": {
        "s3_access_key": {
          "type": "string",
          "title": "AWS Access Key",
          "description": "The AWS access key for authenticating S3 requests, typically a 20 character alphanumeric string",
          "format": "password"
        },
        "s3_bucket": {
          "type": "string",
          "title": "S3 Bucket",
          "description": "The name of an existing Amazon S3 bucket with appropriate access permissions to store output files",
          "minLength": 1
        },
        "s3_path": {
          "type": "string",
          "title": "S3 Path",
          "description": "Specify the S3 bucket path (prefix) where data files will be written, typically starting with a '/' (e.g., '/data')",
          "minLength": 1
        },
        "s3_region": {
          "type": "string",
          "title": "S3 Region",
          "description": "Specify the AWS region where the S3 bucket is hosted",
          "minLength": 1
        },
        "s3_secret_key": {
          "type": "string",
          "title": "AWS Secret Key",
          "description": "The AWS secret key for S3 authenticationâ€”typically 40+ characters long",
          "format": "password"
        },
        "s3_endpoint": {
          "type": "string",
          "title": "S3 Endpoint",
          "description": "Specifies the endpoint URL for S3 compatible services (e.g., MinIO)"
        },
        "max_file_size_mb": {
          "type": "integer",
          "title": "Maximum File Size (MB)",
          "description": "Maximum size of each Parquet file in megabytes before rotating to a new file. Default is 512 MB.",
          "default": 512,
          "minimum": 1
        },
        "max_rows_per_file": {
          "type": "integer",
          "title": "Maximum Rows Per File",
          "description": "Maximum number of rows per Parquet file before rotating to a new file. Default is 1,000,000 rows.",
          "default": 1000000,
          "minimum": 1
        }
      },
      "required": ["s3_bucket", "s3_region", "s3_path"]
    }
  },
  "required": ["writer"]
}
