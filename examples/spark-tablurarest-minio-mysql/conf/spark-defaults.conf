# Spark Application Configuration
spark.app.name                  OLake-Spark-Iceberg
spark.master                    local[*]

# Iceberg Catalog Configuration
spark.sql.extensions            org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions
spark.sql.catalog.iceberg       org.apache.iceberg.spark.SparkCatalog
spark.sql.catalog.iceberg.type  rest
spark.sql.catalog.iceberg.uri   http://rest:8181
spark.sql.catalog.iceberg.warehouse = s3a://warehouse/

# Iceberg S3 File I/O Configuration
spark.sql.catalog.iceberg.io-impl = org.apache.iceberg.hadoop.HadoopFileIO

# Hadoop S3A Configuration (for Spark's file system access)
spark.hadoop.fs.s3a.access.key                       minio
spark.hadoop.fs.s3a.secret.key                       minio123
spark.hadoop.fs.s3a.endpoint                         http://minio:9090
spark.hadoop.fs.s3a.path.style.access                true
spark.hadoop.fs.s3a.connection.ssl.enabled           false
spark.hadoop.fs.s3a.impl                             org.apache.hadoop.fs.s3a.S3AFileSystem
spark.hadoop.fs.s3a.aws.credentials.provider         org.apache.hadoop.fs.s3a.SimpleAWSCredentialsProvider

# Performance and Memory Settings
spark.driver.memory              2g
spark.executor.memory            2g
spark.sql.adaptive.enabled       true
spark.sql.adaptive.coalescePartitions.enabled  true

# Logging
spark.eventLog.enabled           false

# Required Packages
spark.jars.packages = org.apache.iceberg:iceberg-spark-runtime-3.5_2.12:1.5.1,org.apache.hadoop:hadoop-aws:3.3.4